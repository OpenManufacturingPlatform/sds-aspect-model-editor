<!-- Select field -->
<div fxLayout="column">
  <mat-form-field>
    <mat-label for="deconstructionRule">Deconstruction rule name</mat-label>
    <mat-select [value]="selectedRule || ''" data-cy="deconstruction-rule-select">
      <mat-option value="--custom-rule--" (click)="customRuleActive = true; setCustomRule()">Custom Rule</mat-option>
      <mat-option
        *ngFor="let predefinedRule of predefinedRules"
        [value]="predefinedRule.regex"
        (click)="customRuleActive = false; selectPredefinedRule(predefinedRule)"
      >
        {{ predefinedRule.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
</div>

<!-- Input field -->
<div fxLayout="column">
  <mat-form-field>
    <mat-label for="deconstructionRule">Deconstruction rule</mat-label>
    <input [formControl]="getControl('deconstructionRule')" class="deconstruction-rule-input" data-cy="deconstruction-rule-input" matInput />
    <mat-hint>bamm-c:deconstructionRule</mat-hint>
    <mat-error *ngIf="getControl('deconstructionRule').errors?.required">Rule definition is required</mat-error>
    <mat-error *ngIf="getControl('deconstructionRule').errors?.regexValidator">{{
      getControl('deconstructionRule').errors?.regexValidator.message
    }}</mat-error>
  </mat-form-field>
</div>

<!-- Elements Button to open the modal -->
<div fxLayout="column" class="space">
  <button mat-button (click)="openModal()" data-cy="elements-modal-button">
    <em class="Bosch-Ic Bosch-Ic-list"></em>
    <span>Elements</span>
  </button>
  <span *ngIf="hasGroupsError" class="groups-error">Please assign Properties to your elements</span>
</div>
