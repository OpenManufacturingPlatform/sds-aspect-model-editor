<!--
  ~  Copyright (c) 2020 Robert Bosch Manufacturing Solutions GmbH, Germany. All rights reserved.
  -->

<div class="dialog-header">
  <h3 matDialogTitle>{{ title }}</h3>
  <button class="close-button" mat-icon-button tabindex="-1" (click)="onClose()">
    <em class="Bosch-Ic Bosch-Ic-abort"></em>
  </button>
</div>
<form (submit)="onSave()">
  <mat-form-field class="entity-form-field">
    <mat-label for="entityValueName">Name *</mat-label>
    <input
      matInput
      type="text"
      name="entityValueName"
      [formControl]="entityValueName"
      [ngClass]="entityValueName.hasError('checkShapeName') || entityValueName.hasError('whitespace') ? 'ng-invalid-error' : ''"
      data-cy="entityValueName"
    />
    <mat-error class="entity-form-field__error" *ngIf="entityValueName.hasError('checkShapeName')">
      Name already exists, please choose another one
    </mat-error>
    <mat-error class="entity-form-field__error" *ngIf="entityValueName.hasError('whitespace')">
      Name must not contain whitespaces
    </mat-error>
  </mat-form-field>
  <bci-entity-value-modal-table [form]="form" [entity]="entity" [entityValue]="entityValue" [enumeration]="enumeration">
  </bci-entity-value-modal-table>
  <div class="dialog-actions">
    <button type="button" mat-button (click)="onClose()" data-cy="entityCancelButton">Cancel</button>
    <button [disabled]="form.invalid" mat-raised-button type="submit" data-cy="entitySaveButton">Save</button>
  </div>
</form>
